#### How would you implementing URL-shortener for multiple users?

Generally, the service does handle one side of the multi user feature out of the box, namely the publishing of short aliases for long URLs (the GET call), since the generated short links are available for all users. The difficulty in implementing multi user support is in the PUT, POST and DELETE requests, because two users that want to create a short link must generate two different short links that can be changed and deleted independently without conflicting with each other. This requires a unique identifier for a user that can be incorporated in the URL hash to create unique short URL for each user. We have implemented a simple version of this that uses the callers IP address as such an ID. However, it must be noted that the IP address can be easily forged and a production deployment should rather use a `user_id` field in the request form to identify users. Finally, the backend has to keep track of who owns which shortened URLs so that it can be checked if a user is allowed to perform a DELETE or PUT on a specific shortened URL. Also, the DELETE call that deletes all keys and the GET call that lists all keys uses this second mapping to show or delete only the shortened links owned by the respective user. In conclusion, an adequate implementation would use a combination of server-side and client-side state, where the user sends his `user_id` with every request and the server backend keeps track of who owns which shortened links and generates unique keys for different users.
